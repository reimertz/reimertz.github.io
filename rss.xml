<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[reimertz.co]]></title><description><![CDATA[reimertz.co]]></description><link>http://reimertz.org</link><generator>metalsmith-feed</generator><lastBuildDate>Fri, 08 May 2015 21:32:50 GMT</lastBuildDate><atom:link href="http://reimertz.org/rss.xml" rel="self" type="application/rss+xml"/><author><![CDATA[Piérre Reimertz]]></author><item><title><![CDATA[Contact forms on Github Pages made easy]]></title><description><![CDATA[<!DOCTYPE html>
<html>

<head>
	<title>reimertz.co - Contact forms on Github Pages made easy</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description">
	<meta name="revisit-after" content="3 days">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link href="//fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Merriweather:400italic,400,700,700italic"
	rel="stylesheet" type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:700,900" rel="stylesheet"
	type="text/css">
	<link href="img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<!--Page-related styles & scripts-->
	<!-- build:css .build/scripts/head.css -->
	<link href="/styles/main.css" rel="stylesheet" type="text/css">
	<!-- endbuild -->
	<!-- build:js .build/scripts/head.js -->
	<script src="/scripts/bowerfiles.min.js"></script>
	<!-- endbuild -->
</head>

<body class="thoughts single">
	<script type="text/javascript">
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js',
			'ga');
		ga('create', 'UA-61798566-1', 'auto');
		ga('send', 'pageview');
	</script>
	<header style="background-image:url('/images/thoughts/formspree.gif')"
	class="full-height-header">
		<nav>
			<ul>
				<li><a href="/"><strong>reimertz.co</strong></a></li>
				<li><a href="/thoughts">thoughts</a></li>
				<li><a href="/music">music</a></li>
				<li><a href="/projects">projects</a></li>
				<li><a href="/photos">photos</a></li>
				<li><a href="/me">me</a></li>
			</ul>
		</nav>
		<section class="titles">
			<h1>Contact forms on Github Pages made easy</h1>
			<h3>or any homepage for that matter</h3></section>
		<section class="small-header">
			<div class="written-on"><span>2015-05-09</span></div>
			<div class="reading-time"><span>1 min</span></div><a href="https://twitter.com/share" class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
		<section
		class="fixed-small-header">
			<div class="title"><span>Contact forms on Github Pages made easy</span></div><a href="https://twitter.com/share"
			class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
	</header>
	<main role="main" class="side-margin">
		<article itemscope="" itemtype="http://schema.org/Article">
			<meta itemprop="name">
			<meta itemprop="dateCreated" content="Sat May 09 2015 02:00:00 GMT+0200 (CEST)">
			<meta itemprop="author" content="Piêrre Reimertz">
			<section>
				<p>Not this problem again..</p>
				<p>While working on heartcoins new static splash-page, I realized that I would need
					to implement yet another backend to support our contact form. There&#39;s gotta
					be another way, I&#39;m so tired of setting up a express instance just to support
					a <code>/sendEmail</code> route!</p>
				<p>After 5 minutes of googling, I found the answer, formspree!</p>
				<p>The example below is all that is needed to send a name, email and message to
					<code>contact@heartcoins.org</code> then and then redirect users <code>heartcoins.org/thanks.html</code>.</p>
				<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span> <span class="hljs-attribute">action</span>=<span class="hljs-value">"//formspree.io/contact@heartcoins.org"</span> <span class="hljs-attribute">method</span>=<span class="hljs-value">"POST"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_replyto"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">textarea</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">textarea</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"hidden"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_next"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"//heartcoins.org/thanks.html"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"submit"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Send"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span></code></pre>

				<p>My final solution was to use ajax so I can keep visitors on the page without
					routing them around.</p>
				<p>This is my implementation, just using vanilla JavaScript.</p>
				<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">'text'</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">'Your name'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">'email'</span> <span class="hljs-attribute">placeholder</span>=<span class="hljs-value">'Your email'</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">textarea</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">textarea</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">'submit'</span>&gt;</span>Apply<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">form</span>&gt;</span></code></pre>

				<pre><code class="hljs javascript"><span class="hljs-keyword">var</span> contactForm = contactSection.querySelector(<span class="hljs-string">'form'</span>),
    inputName = contactForm.querySelector(<span class="hljs-string">'[name="name"]'</span>),
    inputEmail = contactForm.querySelector(<span class="hljs-string">'[name="email"]'</span>),
    textAreaMessage = contactForm.querySelector(<span class="hljs-string">'[name="message"]'</span>),
    sendButton = contactForm.querySelector(<span class="hljs-string">'button'</span>);

    sendButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span></span>{
      event.preventDefault(); <span class="hljs-comment">// prevent the form to do the post.</span>

      sendButton.innerHTML = <span class="hljs-string">'sending..'</span>;

      <span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
      xhr.open(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'//formspree.io/contact@heartcoins.org'</span>, <span class="hljs-literal">true</span>);
      xhr.setRequestHeader(<span class="hljs-string">"Accept"</span>, <span class="hljs-string">"application/json"</span>)
      xhr.setRequestHeader(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/x-www-form-urlencoded"</span>)

      xhr.send(
        <span class="hljs-string">"name="</span> + inputName.value +
        <span class="hljs-string">"&amp;email="</span> + inputEmail.value +
        <span class="hljs-string">"&amp;message="</span> + textAreaMessage.value);

      xhr.onloadend = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(res)</span> </span>{
        <span class="hljs-keyword">if</span> (res.target.status === <span class="hljs-number">200</span>){
          sendButton.innerHTML = <span class="hljs-string">'Message sent!'</span>;
        }
        <span class="hljs-keyword">else</span> {
          sendButton.innerHTML = <span class="hljs-string">'Error!'</span>;
        }
      }
    });</code></pre>

				<p>There is just one catch, you have to validate the form before it&#39;s gonna
					work. But luckily, it&#39;s very simple. Just fill the form once you deployed
					your code. Formspree will send you and email where you need to click a validation
					link, after that, everything is hooked up!</p>
				<p>Go to <a href="http://formspree.io">formspree.io</a> see the full documentation.</p>
			</section>
			<footer>
				<section class="me"><img src="/images/me6.jpg">
					<div>
						<h3>Piérre Reimertz</h3><a href="https://twitter.com/reimertz" data-show-count="true" data-width="200"
						class="twitter-follow-button">Follow @reimertz</a>
						<script type="text/javascript">
							window.twttr = (function(d, s, id) {
								var js, fjs = d.getElementsByTagName(s)[0],
									t = window.twttr || {};
								if (d.getElementById(id)) return;
								js = d.createElement(s);
								js.id = id;
								js.src = "https://platform.twitter.com/widgets.js";
								fjs.parentNode.insertBefore(js, fjs);
								t._e = [];
								t.ready = function(f) {
									t._e.push(f);
								};
								return t;
							}(document, "script", "twitter-wjs"));
						</script>
					</div>
				</section>
			</footer>
		</article>
		<section class="comments"><a id="show-comments"><h3>Load Comments</h3></a>
			<div id="disqus_thread"></div>
			<style>
				#thread-subscribe-button {
					display: none;
				}
			</style>
			<script>
				var disqus_shortname = 'reimertz-org',
					disqus_url = window.location.href,
					disqus_title = 'Contact forms on Github Pages made easy';

				function loadDisqusOnDemand() {
					var dsq = document.createElement('script');
					dsq.type = 'text/javascript';
					dsq.async = true;
					dsq.src = '//go.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName(
						'body')[0]).appendChild(dsq);
					this.removeEventListener('click', loadDisqusOnDemand);
					this.style.opacity = 0;
				}
				document.getElementById('show-comments').addEventListener('click',
					loadDisqusOnDemand);
			</script>
		</section>
	</main>
	<!-- build:js .build/scripts/page.js -->
	<script src="/scripts/fadein-fadeout.js"></script>
	<script src="/scripts/fixed-header.js"></script>
	<!-- endbuild -->
	<!--[if lt IE 9]><script type="text/javascript">document.createElement("header");
document.createElement("footer");
document.createElement("section");
document.createElement("aside");
document.createElement("nav");
document.createElement("article");
document.createElement("hgroup");
document.createElement("time");
</script><noscript>s=Warning!
Because your browser does not support HTML5, some elements are created using JavaScript.
Unfortunately your browser has disabled scripting. Please enable it in order to display this page properly.
</noscript><![endif]-->
</body>

</html>]]></description><link>http://reimertz.org/thoughts/contact-forms-on-github-pages-made-easy</link><guid isPermaLink="true">http://reimertz.org/thoughts/contact-forms-on-github-pages-made-easy</guid><dc:creator><![CDATA[Piérre Reimertz]]></dc:creator><pubDate>Sat, 09 May 2015 00:00:00 GMT</pubDate></item><item><title><![CDATA[Sublime Text was eating my CPU]]></title><description><![CDATA[<!DOCTYPE html>
<html>

<head>
	<title>reimertz.co - Sublime Text was eating my CPU</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description">
	<meta name="revisit-after" content="3 days">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link href="//fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Merriweather:400italic,400,700,700italic"
	rel="stylesheet" type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:700,900" rel="stylesheet"
	type="text/css">
	<link href="img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<!--Page-related styles & scripts-->
	<!-- build:css .build/scripts/head.css -->
	<link href="/styles/main.css" rel="stylesheet" type="text/css">
	<!-- endbuild -->
	<!-- build:js .build/scripts/head.js -->
	<script src="/scripts/bowerfiles.min.js"></script>
	<!-- endbuild -->
</head>

<body class="thoughts single">
	<script type="text/javascript">
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js',
			'ga');
		ga('create', 'UA-61798566-1', 'auto');
		ga('send', 'pageview');
	</script>
	<header style="background-image:url('/images/thoughts/sublime.png')" class="full-height-header">
		<nav>
			<ul>
				<li><a href="/"><strong>reimertz.co</strong></a></li>
				<li><a href="/thoughts">thoughts</a></li>
				<li><a href="/music">music</a></li>
				<li><a href="/projects">projects</a></li>
				<li><a href="/photos">photos</a></li>
				<li><a href="/me">me</a></li>
			</ul>
		</nav>
		<section class="titles">
			<h1>Sublime Text was eating my CPU</h1>
			<h3>And this is how I fixed it</h3></section>
		<section class="small-header">
			<div class="written-on"><span>2015-04-29</span></div>
			<div class="reading-time"><span>1 min</span></div><a href="https://twitter.com/share" class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
		<section
		class="fixed-small-header">
			<div class="title"><span>Sublime Text was eating my CPU</span></div><a href="https://twitter.com/share"
			class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
	</header>
	<main role="main" class="side-margin">
		<article itemscope="" itemtype="http://schema.org/Article">
			<meta itemprop="name">
			<meta itemprop="dateCreated" content="Wed Apr 29 2015 02:00:00 GMT+0200 (CEST)">
			<meta itemprop="author" content="Piêrre Reimertz">
			<section>
				<p>Sometimes Sublime Text can be painfully slow. Luckily, these following tips might
					save you from a lot of hassle.</p>
				<h2 id="bootup-time">bootup time</h2>
				<p>Sublime is very helpful and outputs a lot of information in the console when
					it&#39;s booting up. It can be valuable to check these if sublime is acting
					weird.</p>
				<ol>
					<li>close sublime</li>
					<li>ppen sublime</li>
					<li>open the console view (View-&gt;console)</li>
				</ol>
				<h2 id="indexes">indexes</h2>
				<p>Sublime indexes everything, and sometimes, indexing can get stuck which often
					result in a static 100% CPU usage. The solution is to remove the index cache.</p>
				<pre><code class="hljs bash"><span class="hljs-built_in">cd</span> <span class="hljs-string">"/Users/reimertz/Library/Application Support/Sublime Text 3/"</span>
rm -rf  Index
mkdir Index</code></pre>

				<h2 id="plugins">plugins</h2>
				<p>Did you procrastinate yesterday and installed a bunch of cool plugins? If you
					where unlucky, one of them might have contained a bug which can have a bunch
					of weird results, such as slow boot-up time, high CPU usage etc.</p>
				<p>What you can do is to temporary remove all plugins and check if sublime gets
					back to a working state.</p>
				<p>Go to the following folder(depending on your operative system) OS X: ~/Library/Application
					Support/Sublime Text 3 Windows: %appdata%\Sublime Text 3 Linux: ~/.config/sublime-text-3</p>
				<p>To revert to a freshly installed state, just rename the <code>data</code> folder
					to <code>data_backup</code>.</p>
				<p>If this solved your problem, move back one plugin at a time to figure out which
					one is broken.</p>
			</section>
			<footer>
				<section class="me"><img src="/images/me6.jpg">
					<div>
						<h3>Piérre Reimertz</h3><a href="https://twitter.com/reimertz" data-show-count="true" data-width="200"
						class="twitter-follow-button">Follow @reimertz</a>
						<script type="text/javascript">
							window.twttr = (function(d, s, id) {
								var js, fjs = d.getElementsByTagName(s)[0],
									t = window.twttr || {};
								if (d.getElementById(id)) return;
								js = d.createElement(s);
								js.id = id;
								js.src = "https://platform.twitter.com/widgets.js";
								fjs.parentNode.insertBefore(js, fjs);
								t._e = [];
								t.ready = function(f) {
									t._e.push(f);
								};
								return t;
							}(document, "script", "twitter-wjs"));
						</script>
					</div>
				</section>
			</footer>
		</article>
		<section class="comments"><a id="show-comments"><h3>Load Comments</h3></a>
			<div id="disqus_thread"></div>
			<style>
				#thread-subscribe-button {
					display: none;
				}
			</style>
			<script>
				var disqus_shortname = 'reimertz-org',
					disqus_url = window.location.href,
					disqus_title = 'Sublime Text was eating my CPU';

				function loadDisqusOnDemand() {
					var dsq = document.createElement('script');
					dsq.type = 'text/javascript';
					dsq.async = true;
					dsq.src = '//go.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName(
						'body')[0]).appendChild(dsq);
					this.removeEventListener('click', loadDisqusOnDemand);
					this.style.opacity = 0;
				}
				document.getElementById('show-comments').addEventListener('click',
					loadDisqusOnDemand);
			</script>
		</section>
	</main>
	<!-- build:js .build/scripts/page.js -->
	<script src="/scripts/fadein-fadeout.js"></script>
	<script src="/scripts/fixed-header.js"></script>
	<!-- endbuild -->
	<!--[if lt IE 9]><script type="text/javascript">document.createElement("header");
document.createElement("footer");
document.createElement("section");
document.createElement("aside");
document.createElement("nav");
document.createElement("article");
document.createElement("hgroup");
document.createElement("time");
</script><noscript>s=Warning!
Because your browser does not support HTML5, some elements are created using JavaScript.
Unfortunately your browser has disabled scripting. Please enable it in order to display this page properly.
</noscript><![endif]-->
</body>

</html>]]></description><link>http://reimertz.org/thoughts/sublime-text-was-eating-my-cpu</link><guid isPermaLink="true">http://reimertz.org/thoughts/sublime-text-was-eating-my-cpu</guid><dc:creator><![CDATA[Piérre Reimertz]]></dc:creator><pubDate>Wed, 29 Apr 2015 00:00:00 GMT</pubDate></item><item><title><![CDATA[Disqus on demand]]></title><description><![CDATA[<!DOCTYPE html>
<html>

<head>
	<title>reimertz.co - Disqus on demand</title>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description">
	<meta name="revisit-after" content="3 days">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link href="//fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Merriweather:400italic,400,700,700italic"
	rel="stylesheet" type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"
	type="text/css">
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:700,900" rel="stylesheet"
	type="text/css">
	<link href="img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<!--Page-related styles & scripts-->
	<!-- build:css .build/scripts/head.css -->
	<link href="/styles/main.css" rel="stylesheet" type="text/css">
	<!-- endbuild -->
	<!-- build:js .build/scripts/head.js -->
	<script src="/scripts/bowerfiles.min.js"></script>
	<!-- endbuild -->
</head>

<body class="thoughts single">
	<script type="text/javascript">
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
				m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js',
			'ga');
		ga('create', 'UA-61798566-1', 'auto');
		ga('send', 'pageview');
	</script>
	<header style="background-image:url('/images/thoughts/disqus.png')" class="full-height-header">
		<nav>
			<ul>
				<li><a href="/"><strong>reimertz.co</strong></a></li>
				<li><a href="/thoughts">thoughts</a></li>
				<li><a href="/music">music</a></li>
				<li><a href="/projects">projects</a></li>
				<li><a href="/photos">photos</a></li>
				<li><a href="/me">me</a></li>
			</ul>
		</nav>
		<section class="titles">
			<h1>Disqus on demand</h1>
			<h3>Let's get those 500ms back!</h3></section>
		<section class="small-header">
			<div class="written-on"><span>2015-04-28</span></div>
			<div class="reading-time"><span>1 min</span></div><a href="https://twitter.com/share" class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
		<section
		class="fixed-small-header">
			<div class="title"><span>Disqus on demand</span></div><a href="https://twitter.com/share" class="twitter-share-button">Tweet<script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></a></section>
	</header>
	<main role="main" class="side-margin">
		<article itemscope="" itemtype="http://schema.org/Article">
			<meta itemprop="name">
			<meta itemprop="dateCreated" content="Tue Apr 28 2015 02:00:00 GMT+0200 (CEST)">
			<meta itemprop="author" content="Piêrre Reimertz">
			<section>
				<p>I realized that by including Disqus on your homepage, loading times increase
					between 500-1000ms! So why not load disqus on demand instead? This solution
					doesn&#39;t have any library dependencies.</p>
				<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"show-comments"</span>&gt;</span>Comments<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"disqus_thread"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">

<span class="hljs-keyword">var</span> disqus_shortname = <span class="hljs-string">'&lt;enter your disqus shortname here&gt;'</span>,
  disqus_url = <span class="hljs-built_in">window</span>.location.href,
  disqus_title = <span class="hljs-string">'&lt;enter a title here&gt;'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadDisqusOnDemand</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);

    script.type = <span class="hljs-string">'text/javascript'</span>;
    script.async = <span class="hljs-literal">true</span>;
    script.src = <span class="hljs-string">'//go.disqus.com/embed.js'</span>;

    (<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>]
      || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'body'</span>)[<span class="hljs-number">0</span>]).appendChild(script);

    <span class="hljs-comment">//hides the button and remove event listeners</span>
    <span class="hljs-keyword">this</span>.removeEventListener(<span class="hljs-string">'click'</span>, loadDisqusOnDemand);
    <span class="hljs-keyword">this</span>.style.opacity = <span class="hljs-number">0</span>;
}

<span class="hljs-built_in">document</span>
  .getElementById(<span class="hljs-string">'show-comments'</span>)
  .addEventListener(<span class="hljs-string">'click'</span>, loadDisqusOnDemand);

</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></code></pre>

				<p>Try it below!</p>
			</section>
			<footer>
				<section class="me"><img src="/images/me6.jpg">
					<div>
						<h3>Piérre Reimertz</h3><a href="https://twitter.com/reimertz" data-show-count="true" data-width="200"
						class="twitter-follow-button">Follow @reimertz</a>
						<script type="text/javascript">
							window.twttr = (function(d, s, id) {
								var js, fjs = d.getElementsByTagName(s)[0],
									t = window.twttr || {};
								if (d.getElementById(id)) return;
								js = d.createElement(s);
								js.id = id;
								js.src = "https://platform.twitter.com/widgets.js";
								fjs.parentNode.insertBefore(js, fjs);
								t._e = [];
								t.ready = function(f) {
									t._e.push(f);
								};
								return t;
							}(document, "script", "twitter-wjs"));
						</script>
					</div>
				</section>
			</footer>
		</article>
		<section class="comments"><a id="show-comments"><h3>Load Comments</h3></a>
			<div id="disqus_thread"></div>
			<style>
				#thread-subscribe-button {
					display: none;
				}
			</style>
			<script>
				var disqus_shortname = 'reimertz-org',
					disqus_url = window.location.href,
					disqus_title = 'Disqus on demand';

				function loadDisqusOnDemand() {
					var dsq = document.createElement('script');
					dsq.type = 'text/javascript';
					dsq.async = true;
					dsq.src = '//go.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName(
						'body')[0]).appendChild(dsq);
					this.removeEventListener('click', loadDisqusOnDemand);
					this.style.opacity = 0;
				}
				document.getElementById('show-comments').addEventListener('click',
					loadDisqusOnDemand);
			</script>
		</section>
	</main>
	<!-- build:js .build/scripts/page.js -->
	<script src="/scripts/fadein-fadeout.js"></script>
	<script src="/scripts/fixed-header.js"></script>
	<!-- endbuild -->
	<!--[if lt IE 9]><script type="text/javascript">document.createElement("header");
document.createElement("footer");
document.createElement("section");
document.createElement("aside");
document.createElement("nav");
document.createElement("article");
document.createElement("hgroup");
document.createElement("time");
</script><noscript>s=Warning!
Because your browser does not support HTML5, some elements are created using JavaScript.
Unfortunately your browser has disabled scripting. Please enable it in order to display this page properly.
</noscript><![endif]-->
</body>

</html>]]></description><link>http://reimertz.org/thoughts/disqus-on-demand</link><guid isPermaLink="true">http://reimertz.org/thoughts/disqus-on-demand</guid><dc:creator><![CDATA[Piérre Reimertz]]></dc:creator><pubDate>Tue, 28 Apr 2015 00:00:00 GMT</pubDate></item></channel></rss>